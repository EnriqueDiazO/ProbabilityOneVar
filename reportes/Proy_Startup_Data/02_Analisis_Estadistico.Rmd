---
title: "GuÃ­a de GrÃ¡ficos para el AnÃ¡lisis Exploratorio de Datos (EDA)"
author: "Enrique DÃ­az Ocampo"
date: "`r Sys.Date()`"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
# ğŸ“Œ ConfiguraciÃ³n inicial
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

## 1ï¸âƒ£ **IntroducciÃ³n**
Esta guÃ­a proporciona una serie de grÃ¡ficos para realizar un **AnÃ¡lisis Exploratorio de Datos (EDA)** en diferentes niveles:

- **AnÃ¡lisis Unidimensional:** DistribuciÃ³n de una sola variable.

- **AnÃ¡lisis Multivariado:** RelaciÃ³n entre dos o mÃ¡s variables.

- **VisualizaciÃ³n con `ggplot2`** para explorar patrones en los datos.

Esta guÃ­a te ayudarÃ¡ a seleccionar el grÃ¡fico mÃ¡s adecuado segÃºn el tipo de variable analizada.

---

## 2ï¸âƒ£ **Carga de LibrerÃ­as y ConfiguraciÃ³n**
```{r}
# ğŸ“Œ Cargar configuraciÃ³n global
# Contiene rutas de directorios, opciones de visualizaciÃ³n y otros parÃ¡metros relevantes
install.packages("here",dependencies=TRUE)
library(here)
source(here("reportes/Proy_Startup_Data/00_CONFIGURACION.r"))
```

```{r}
# ğŸ“Œ Cargar librerÃ­as necesarias
library(here)           # Manejo de rutas dinÃ¡micas
library(janitor)        # Limpieza de nombres de columnas
library(summarytools)   # Resumen estadÃ­stico detallado
library(ggplot2)        # GrÃ¡ficos
library(dplyr)          # ManipulaciÃ³n de datos
library(plotly)         # GÅ•aficos Interactivos

# ğŸ“Œ ConfiguraciÃ³n de grÃ¡ficos globales
theme_set(theme_minimal())


# ğŸ“Œ Cargar scripts de preprocesamiento
source(here("scripts/utils.r"))
source(here("scripts/1_preprocesamiento_esp_dataset.r"))
source(here("scripts/2_analisis_grÃ¡fico.r"))
```


## 3ï¸âƒ£ Carga y Preprocesamiento de Datos

ğŸ“Œ Â¿QuÃ© hace esta funciÃ³n?

âœ” Limpia los nombres de las columnas.
âœ” Convierte variables categÃ³ricas en factores.
âœ” Filtra valores invÃ¡lidos.
âœ” Retorna un dataset listo para anÃ¡lisis.

```{r}
# ğŸ“Œ Cargar y preprocesar el dataset
dataset_startup <- preprocesar_datos(here("datasets/startup_data_limpio.csv"), "Startup Data")
```

## 4ï¸âƒ£ AnÃ¡lisis Unidimensional

El anÃ¡lisis unidimensional permite estudiar la distribuciÃ³n de una sola variable.

### ğŸ“Œ Boxplot para una variable cuantitativa

### ğŸ“Œ Ãštil para: Detectar valores atÃ­picos y distribuciÃ³n de datos.

```{r}
# Boxplot para nÃºmero de empleados
p_boxplot_empleados <- crear_boxplot(
  data = dataset_startup, 
  y = "employees", 
  title = "DistribuciÃ³n del NÃºmero de Empleados en Startups",
  xlab = "Startups",
  ylab = "NÃºmero de Empleados",
  colores = "lightblue"
)

guardar_grafico(p_boxplot_empleados, here("reportes/Proy_Startup_Data/resultados_generados/boxplot_empleados.png"))
convertir_interactivo(p_boxplot_empleados)

```

## ğŸ“Œ Histograma para una variable cuantitativa

### ğŸ“Œ Ãštil para: Observar la distribuciÃ³n de frecuencia de una variable numÃ©rica.

```{r}
# Histograma de financiamiento recibido
p_histograma_financiamiento <- crear_histograma(
  data = dataset_startup, 
  x = "funding_amount_m_usd",
  title = "DistribuciÃ³n del Financiamiento Recibido por Startups",
  xlab = "Monto de Financiamiento (millones USD)",
  ylab = "Frecuencia",
  binwidth = 10,
  colores = "blue"
)

guardar_grafico(p_histograma_financiamiento, here("reportes/Proy_Startup_Data/resultados_generados/histograma_financiamiento.png"))
convertir_interactivo(p_histograma_financiamiento)

```


## ğŸ“Œ Barplot para una variable cualitativa

### ğŸ“Œ Ãštil para: Mostrar la frecuencia de categorÃ­as en una variable cualitativa.

```{r}
# DistribuciÃ³n de startups por industria
p_barplot_industria <- crear_barplot(
  data = dataset_startup,
  x = "industry",
  fill = "industry",
  title = "DistribuciÃ³n de Startups por Industria",
  xlab = "Industria",
  ylab = "NÃºmero de Startups",
  voltear = TRUE
)

guardar_grafico(p_barplot_industria, here("reportes/Proy_Startup_Data/resultados_generados/barplot_industria.png"))
convertir_interactivo(p_barplot_industria)

```




##5ï¸âƒ£ AnÃ¡lisis Multivariado

El anÃ¡lisis multivariado permite explorar relaciones entre dos o mÃ¡s variables.

## ğŸ“Œ ComparaciÃ³n del Financiamiento por Industria

## ğŸ“Œ Ãštil para: Evaluar si ciertas industrias reciben mÃ¡s financiamiento que otras.

```{r}
p_boxplot_financiamiento_industria <- crear_boxplot(
  data = dataset_startup,
  x = "industry",
  y = "funding_amount_m_usd",
  fill = "industry",
  title = "DistribuciÃ³n del Financiamiento por Industria",
  xlab = "Industria",
  ylab = "Monto de Financiamiento (millones USD)",
  rotar_x = TRUE
)

guardar_grafico(p_boxplot_financiamiento_industria, here("reportes/Proy_Startup_Data/resultados_generados/boxplot_financiamiento_industria.png"))
convertir_interactivo(p_boxplot_financiamiento_industria)

```


## ğŸ“Œ RelaciÃ³n entre ValuaciÃ³n y Financiamiento

## ğŸ“Œ Ãštil para: Explorar la correlaciÃ³n entre el financiamiento recibido y la valuaciÃ³n de la startup.

```{r}
p_scatter_valuacion_vs_financiamiento <- crear_scatterplot(
  data = dataset_startup,
  x = "funding_amount_m_usd",
  y = "valuation_m_usd",
  title = "RelaciÃ³n entre ValuaciÃ³n y Financiamiento",
  xlab = "Financiamiento Recibido (millones USD)",
  ylab = "ValuaciÃ³n de la Startup (millones USD)"
)

guardar_grafico(p_scatter_valuacion_vs_financiamiento, here("reportes/Proy_Startup_Data/resultados_generados/scatter_valuacion_vs_financiamiento.png"))
convertir_interactivo(p_scatter_valuacion_vs_financiamiento)

```

## ğŸ“Œ Estado de Salida de Startups

## ğŸ“Œ Ãštil para: Analizar la cantidad de startups que han sido adquiridas, han salido a la bolsa (IPO) o permanecen privadas.

```{r}
p_barplot_exit_status <- crear_barplot(
  data = dataset_startup,
  x = "exit_status",
  fill = "exit_status",
  title = "Estado de Salida de Startups",
  xlab = "Estado de Salida",
  ylab = "Cantidad de Startups",
  colores = c("Acquired" = "blue", "IPO" = "purple", "Private" = "gray")
)

guardar_grafico(p_barplot_exit_status, here("reportes/Proy_Startup_Data/resultados_generados/barplot_exit_status.png"))
convertir_interactivo(p_barplot_exit_status)

```



# ğŸ“Œ ConclusiÃ³n

Este anÃ¡lisis grÃ¡fico ha permitido visualizar patrones clave en el Ã©xito de las startups:

âœ… El financiamiento y la valuaciÃ³n estÃ¡n fuertemente correlacionados.

âœ… Algunas industrias, como FinTech y AI, reciben mÃ¡s financiamiento en promedio.

âœ… Las startups con mayor market share tienden a encontrarse en regiones especÃ­ficas.

âœ… El nÃºmero de startups rentables aÃºn es bajo, indicando largos perÃ­odos de inversiÃ³n antes de alcanzar sostenibilidad.

